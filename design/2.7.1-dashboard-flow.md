# 2.7.1 - Luá»“ng BÃ¡o CÃ¡o Tá»•ng Quan (Dashboard)

## ThÃ´ng tin chung
- **MÃ£ tÃ­nh nÄƒng:** 2.7.1
- **Actor:** Quáº£n lÃ½ viÃªn (Admin), NhÃ¢n viÃªn thÆ° viá»‡n (Librarian)
- **YÃªu cáº§u:** 
  - ÄÄƒng nháº­p vá»›i vai trÃ² Admin hoáº·c Librarian (2.1.2)
  - CÃ³ dá»¯ liá»‡u sÃ¡ch, mÆ°á»£n, tráº£ trong há»‡ thá»‘ng
- **Má»¥c Ä‘Ã­ch:** Hiá»ƒn thá»‹ tá»•ng quan vá» tÃ¬nh tráº¡ng thÆ° viá»‡n

## Flowchart

```mermaid
flowchart TD
    Start([Báº¯t Ä‘áº§u]) --> A[Admin/Librarian<br/>Ä‘Äƒng nháº­p]
    A --> B[Há»‡ thá»‘ng tá»± Ä‘á»™ng<br/>chuyá»ƒn Ä‘áº¿n Dashboard]
    B --> C[Gá»i API láº¥y<br/>dá»¯ liá»‡u thá»‘ng kÃª]
    
    C --> D{API tráº£ vá»<br/>thÃ nh cÃ´ng?}
    
    D -->|Lá»—i| E[Hiá»ƒn thá»‹ thÃ´ng bÃ¡o:<br/>"KhÃ´ng thá»ƒ táº£i<br/>dá»¯ liá»‡u thá»‘ng kÃª"]
    E --> F[Hiá»ƒn thá»‹ nÃºt<br/>"Thá»­ láº¡i"]
    F --> C
    
    D -->|ThÃ nh cÃ´ng| G[Hiá»ƒn thá»‹ Dashboard<br/>vá»›i cÃ¡c widget]
    
    G --> H[Widget 1:<br/>Thá»‘ng kÃª sÃ¡ch]
    G --> I[Widget 2:<br/>Thá»‘ng kÃª Ä‘á»™c giáº£]
    G --> J[Widget 3:<br/>ÄÆ¡n mÆ°á»£n hÃ´m nay]
    G --> K[Widget 4:<br/>Top 5 sÃ¡ch phá»• biáº¿n]
    G --> L[Widget 5:<br/>Äá»™c giáº£ ná»£ quÃ¡ háº¡n]
    
    H --> M{NgÆ°á»i dÃ¹ng<br/>muá»‘n lÃ m gÃ¬?}
    I --> M
    J --> M
    K --> M
    L --> M
    
    M -->|Xem chi tiáº¿t sÃ¡ch| N[Chuyá»ƒn Ä‘áº¿n<br/>Danh sÃ¡ch sÃ¡ch]
    M -->|Xem chi tiáº¿t Ä‘á»™c giáº£| O[Chuyá»ƒn Ä‘áº¿n<br/>Danh sÃ¡ch ngÆ°á»i dÃ¹ng]
    M -->|Xem Ä‘Æ¡n mÆ°á»£n| P[Chuyá»ƒn Ä‘áº¿n<br/>Quáº£n lÃ½ mÆ°á»£n tráº£]
    M -->|Xem bÃ¡o cÃ¡o chi tiáº¿t| Q[Chuyá»ƒn Ä‘áº¿n 2.7.2]
    M -->|Refresh dá»¯ liá»‡u| C
    M -->|KhÃ´ng lÃ m gÃ¬| End([Káº¿t thÃºc])
    
    N --> End
    O --> End
    P --> End
    Q --> End
```

## Widget 1: Thá»‘ng kÃª sÃ¡ch

```mermaid
flowchart TD
    Start([Thá»‘ng kÃª sÃ¡ch]) --> A[Hiá»ƒn thá»‹ cÃ¡c sá»‘ liá»‡u]
    A --> B[Tá»•ng sá»‘ sÃ¡ch trong kho]
    A --> C[Sá»‘ sÃ¡ch cÃ³ sáºµn]
    A --> D[Sá»‘ sÃ¡ch Ä‘ang mÆ°á»£n]
    A --> E[Sá»‘ sÃ¡ch bá»‹ máº¥t]
    A --> F[Sá»‘ sÃ¡ch hÆ° há»ng]
    
    B --> G[Biá»ƒu Ä‘á»“ trÃ²n<br/>tá»· lá»‡ pháº§n trÄƒm]
    C --> G
    D --> G
    E --> G
    F --> G
    
    G --> End([Hiá»ƒn thá»‹ widget])
```

## Widget 2: Thá»‘ng kÃª Ä‘á»™c giáº£

```mermaid
flowchart TD
    Start([Thá»‘ng kÃª Ä‘á»™c giáº£]) --> A[Hiá»ƒn thá»‹ cÃ¡c sá»‘ liá»‡u]
    A --> B[Tá»•ng sá»‘ Ä‘á»™c giáº£]
    A --> C[Äá»™c giáº£ Ä‘ang hoáº¡t Ä‘á»™ng]
    A --> D[Äá»™c giáº£ bá»‹ vÃ´ hiá»‡u hÃ³a]
    A --> E[Äá»™c giáº£ chá» xÃ¡c nháº­n]
    
    B --> F[Biá»ƒu Ä‘á»“ trÃ²n<br/>tá»· lá»‡ pháº§n trÄƒm]
    C --> F
    D --> F
    E --> F
    
    F --> End([Hiá»ƒn thá»‹ widget])
```

## CÃ¡c widget trÃªn Dashboard

### Widget 1: Thá»‘ng kÃª sÃ¡ch

| Chá»‰ sá»‘ | MÃ´ táº£ | Icon/MÃ u |
|--------|-------|----------|
| Tá»•ng sá»‘ sÃ¡ch | Tá»•ng sá»‘ Ä‘áº§u sÃ¡ch trong kho | ğŸ“š Xanh dÆ°Æ¡ng |
| CÃ³ sáºµn | SÃ¡ch Ä‘ang cÃ³ sáºµn Ä‘á»ƒ mÆ°á»£n | âœ… Xanh lÃ¡ |
| Äang mÆ°á»£n | SÃ¡ch Ä‘ang Ä‘Æ°á»£c Ä‘á»™c giáº£ mÆ°á»£n | ğŸ“– VÃ ng |
| Bá»‹ máº¥t | SÃ¡ch Ä‘Ã£ bá»‹ máº¥t | âŒ Äá» |
| HÆ° há»ng | SÃ¡ch bá»‹ hÆ° há»ng | âš ï¸ Cam |

### Widget 2: Thá»‘ng kÃª Ä‘á»™c giáº£

| Chá»‰ sá»‘ | MÃ´ táº£ | Icon/MÃ u |
|--------|-------|----------|
| Tá»•ng sá»‘ | Tá»•ng sá»‘ tÃ i khoáº£n Ä‘á»™c giáº£ | ğŸ‘¥ Xanh dÆ°Æ¡ng |
| Hoáº¡t Ä‘á»™ng | TÃ i khoáº£n Ä‘ang hoáº¡t Ä‘á»™ng | âœ… Xanh lÃ¡ |
| VÃ´ hiá»‡u hÃ³a | TÃ i khoáº£n bá»‹ vÃ´ hiá»‡u hÃ³a | ğŸš« Äá» |
| Chá» xÃ¡c nháº­n | TÃ i khoáº£n má»›i chá» duyá»‡t | â³ VÃ ng |

### Widget 3: ÄÆ¡n mÆ°á»£n hÃ´m nay

| Chá»‰ sá»‘ | MÃ´ táº£ |
|--------|-------|
| Tá»•ng Ä‘Æ¡n | Sá»‘ Ä‘Æ¡n mÆ°á»£n Ä‘Æ°á»£c táº¡o hÃ´m nay |
| ÄÃ£ xÃ¡c nháº­n | Sá»‘ Ä‘Æ¡n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n |
| Chá» xÃ¡c nháº­n | Sá»‘ Ä‘Æ¡n Ä‘ang chá» xá»­ lÃ½ |
| Tá»« chá»‘i | Sá»‘ Ä‘Æ¡n bá»‹ tá»« chá»‘i |

### Widget 4: Top 5 sÃ¡ch phá»• biáº¿n

| TrÆ°á»ng | MÃ´ táº£ |
|--------|-------|
| Xáº¿p háº¡ng | Thá»© tá»± tá»« 1-5 |
| TÃªn sÃ¡ch | TÃªn sÃ¡ch Ä‘Æ°á»£c mÆ°á»£n nhiá»u |
| TÃ¡c giáº£ | TÃªn tÃ¡c giáº£ |
| Sá»‘ lÆ°á»£t mÆ°á»£n | Tá»•ng sá»‘ láº§n Ä‘Æ°á»£c mÆ°á»£n |

### Widget 5: Äá»™c giáº£ ná»£ quÃ¡ háº¡n

| TrÆ°á»ng | MÃ´ táº£ |
|--------|-------|
| TÃªn Ä‘á»™c giáº£ | TÃªn ngÆ°á»i ná»£ |
| Email | Email liÃªn há»‡ |
| Sá»‘ sÃ¡ch quÃ¡ háº¡n | Sá»‘ sÃ¡ch chÆ°a tráº£ quÃ¡ háº¡n |
| Sá»‘ ngÃ y trá»… | Sá»‘ ngÃ y quÃ¡ háº¡n nhiá»u nháº¥t |
| Tá»•ng tiá»n pháº¡t | Tá»•ng tiá»n pháº¡t chÆ°a thanh toÃ¡n |

## API Response Example

```json
{
  "books": {
    "total": 500,
    "available": 350,
    "borrowed": 130,
    "lost": 10,
    "damaged": 10
  },
  "readers": {
    "total": 200,
    "active": 180,
    "disabled": 15,
    "pending": 5
  },
  "todayBorrowings": {
    "total": 25,
    "confirmed": 20,
    "pending": 3,
    "rejected": 2
  },
  "topBooks": [
    {
      "rank": 1,
      "name": "Äáº¯c NhÃ¢n TÃ¢m",
      "author": "Dale Carnegie",
      "borrowCount": 150
    }
  ],
  "overdueReaders": [
    {
      "name": "Nguyá»…n VÄƒn A",
      "email": "a@example.com",
      "overdueBooks": 2,
      "maxOverdueDays": 10,
      "totalFine": 100000
    }
  ]
}
```

## TÃ­nh nÄƒng bá»• sung

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| Auto-refresh | Tá»± Ä‘á»™ng cáº­p nháº­t má»—i 5 phÃºt |
| Manual refresh | NÃºt refresh thá»§ cÃ´ng |
| Click Ä‘á»ƒ xem chi tiáº¿t | Click vÃ o widget Ä‘á»ƒ xem bÃ¡o cÃ¡o chi tiáº¿t |
| Responsive | Hiá»ƒn thá»‹ tá»‘t trÃªn mobile |

## Ghi chÃº
- Dashboard lÃ  trang máº·c Ä‘á»‹nh sau khi Ä‘Äƒng nháº­p cho Admin/Librarian
- Dá»¯ liá»‡u Ä‘Æ°á»£c cache vÃ  refresh Ä‘á»‹nh ká»³ Ä‘á»ƒ giáº£m táº£i server
- CÃ³ thá»ƒ click vÃ o tá»«ng widget Ä‘á»ƒ xem chi tiáº¿t hÆ¡n
- Biá»ƒu Ä‘á»“ sá»­ dá»¥ng thÆ° viá»‡n Recharts

