# 2.6.1 - Lu·ªìng Danh S√°ch Ng∆∞·ªùi D√πng

## Th√¥ng tin chung
- **M√£ t√≠nh nƒÉng:** 2.6.1
- **Actor:** Qu·∫£n l√Ω vi√™n (Admin)
- **Y√™u c·∫ßu:** ƒêƒÉng nh·∫≠p v·ªõi vai tr√≤ Qu·∫£n l√Ω vi√™n (2.1.2)
- **M·ª•c ƒë√≠ch:** Qu·∫£n l√Ω danh s√°ch ng∆∞·ªùi d√πng trong h·ªá th·ªëng

## Flowchart - T·ªïng quan

```mermaid
flowchart TD
    Start([B·∫Øt ƒë·∫ßu]) --> A[Admin ƒëƒÉng nh·∫≠p]
    A --> B[Truy c·∫≠p menu<br/>"Qu·∫£n l√Ω ng∆∞·ªùi d√πng"]
    B --> C[G·ªçi API l·∫•y danh s√°ch<br/>ng∆∞·ªùi d√πng]
    C --> D[Hi·ªÉn th·ªã b·∫£ng<br/>danh s√°ch ng∆∞·ªùi d√πng]
    
    D --> E{Admin mu·ªën<br/>l√†m g√¨?}
    
    E -->|T√¨m ki·∫øm| F[Lu·ªìng T√¨m ki·∫øm]
    E -->|L·ªçc theo vai tr√≤| G[Lu·ªìng L·ªçc]
    E -->|K√≠ch ho·∫°t/V√¥ hi·ªáu h√≥a| H[Lu·ªìng Thay ƒë·ªïi<br/>tr·∫°ng th√°i]
    E -->|G√°n vai tr√≤| I[Chuy·ªÉn ƒë·∫øn 2.6.2]
    E -->|X√°c nh·∫≠n t√†i kho·∫£n| J[Lu·ªìng X√°c nh·∫≠n TK]
    E -->|Kh√¥ng l√†m g√¨| End([K·∫øt th√∫c])
    
    F --> D
    G --> D
    H --> D
    I --> End
    J --> D
```

## Flowchart - T√¨m ki·∫øm ng∆∞·ªùi d√πng

```mermaid
flowchart TD
    Start([T√¨m ki·∫øm]) --> A[Nh·∫≠p t·ª´ kh√≥a v√†o<br/>√¥ t√¨m ki·∫øm]
    A --> B[Nh·∫•n Enter ho·∫∑c<br/>click icon T√¨m]
    B --> C[G·ªçi API v·ªõi<br/>keyword = t·ª´ kh√≥a<br/>T√¨m theo email ho·∫∑c t√™n]
    C --> D{C√≥ k·∫øt qu·∫£?}
    
    D -->|C√≥| E[Hi·ªÉn th·ªã danh s√°ch<br/>ng∆∞·ªùi d√πng ph√π h·ª£p]
    D -->|Kh√¥ng| F[Hi·ªÉn th·ªã:<br/>"Kh√¥ng t√¨m th·∫•y<br/>ng∆∞·ªùi d√πng ph√π h·ª£p"]
    
    E --> End([K·∫øt th√∫c])
    F --> End
```

## Flowchart - L·ªçc theo vai tr√≤

```mermaid
flowchart TD
    Start([L·ªçc vai tr√≤]) --> A[Click dropdown<br/>"Vai tr√≤"]
    A --> B[Hi·ªÉn th·ªã c√°c t√πy ch·ªçn:<br/>- T·∫•t c·∫£<br/>- Reader<br/>- Librarian<br/>- Admin]
    B --> C[Ch·ªçn vai tr√≤<br/>mu·ªën l·ªçc]
    C --> D[G·ªçi API v·ªõi<br/>role = vai tr√≤ ƒë√£ ch·ªçn]
    D --> E{C√≥ k·∫øt qu·∫£?}
    
    E -->|C√≥| F[Hi·ªÉn th·ªã ng∆∞·ªùi d√πng<br/>theo vai tr√≤]
    E -->|Kh√¥ng| G[Hi·ªÉn th·ªã:<br/>"Kh√¥ng c√≥ ng∆∞·ªùi d√πng<br/>v·ªõi vai tr√≤ n√†y"]
    
    F --> End([K·∫øt th√∫c])
    G --> End
```

## Flowchart - K√≠ch ho·∫°t/V√¥ hi·ªáu h√≥a t√†i kho·∫£n

```mermaid
flowchart TD
    Start([Thay ƒë·ªïi tr·∫°ng th√°i]) --> A{Tr·∫°ng th√°i<br/>hi·ªán t·∫°i?}
    
    A -->|ƒê√£ k√≠ch ho·∫°t| B[Hi·ªÉn th·ªã n√∫t<br/>"V√¥ hi·ªáu h√≥a"]
    A -->|V√¥ hi·ªáu h√≥a| C[Hi·ªÉn th·ªã n√∫t<br/>"K√≠ch ho·∫°t"]
    A -->|Ch·ªù x√°c nh·∫≠n| D[Hi·ªÉn th·ªã n√∫t<br/>"X√°c nh·∫≠n" v√† "T·ª´ ch·ªëi"]
    
    B --> E[Click "V√¥ hi·ªáu h√≥a"]
    E --> F{ƒê√¢y c√≥ ph·∫£i<br/>Admin cu·ªëi c√πng?}
    
    F -->|C√≥| G[Hi·ªÉn th·ªã l·ªói:<br/>"Kh√¥ng th·ªÉ v√¥ hi·ªáu h√≥a<br/>Admin cu·ªëi c√πng"]
    G --> End([K·∫øt th√∫c])
    
    F -->|Kh√¥ng| H[Hi·ªÉn th·ªã modal:<br/>"B·∫°n c√≥ ch·∫Øc mu·ªën<br/>v√¥ hi·ªáu h√≥a t√†i kho·∫£n n√†y?"]
    H --> I{X√°c nh·∫≠n?}
    
    I -->|H·ªßy| End
    I -->|X√°c nh·∫≠n| J[C·∫≠p nh·∫≠t:<br/>status = "DISABLED"]
    J --> K[Hi·ªÉn th·ªã th√¥ng b√°o:<br/>"V√¥ hi·ªáu h√≥a th√†nh c√¥ng!"]
    K --> End
    
    C --> L[Click "K√≠ch ho·∫°t"]
    L --> M[C·∫≠p nh·∫≠t:<br/>status = "ACTIVE"]
    M --> N[Hi·ªÉn th·ªã th√¥ng b√°o:<br/>"K√≠ch ho·∫°t th√†nh c√¥ng!"]
    N --> End
    
    D --> O[Lu·ªìng X√°c nh·∫≠n TK]
    O --> End
```

## Flowchart - X√°c nh·∫≠n t√†i kho·∫£n m·ªõi

```mermaid
flowchart TD
    Start([X√°c nh·∫≠n TK]) --> A{T√†i kho·∫£n ·ªü tr·∫°ng th√°i<br/>"Ch·ªù x√°c nh·∫≠n"?}
    
    A -->|Kh√¥ng| B[Kh√¥ng hi·ªÉn th·ªã<br/>n√∫t x√°c nh·∫≠n]
    B --> End([K·∫øt th√∫c])
    
    A -->|C√≥| C[Hi·ªÉn th·ªã 2 n√∫t:<br/>"X√°c nh·∫≠n" v√† "T·ª´ ch·ªëi"]
    C --> D{Admin ch·ªçn<br/>h√†nh ƒë·ªông?}
    
    D -->|X√°c nh·∫≠n| E[Click "X√°c nh·∫≠n"]
    E --> F[C·∫≠p nh·∫≠t:<br/>status = "ACTIVE"]
    F --> G[Hi·ªÉn th·ªã th√¥ng b√°o:<br/>"ƒê√£ x√°c nh·∫≠n t√†i kho·∫£n!"]
    G --> End
    
    D -->|T·ª´ ch·ªëi| H[Click "T·ª´ ch·ªëi"]
    H --> I[Hi·ªÉn th·ªã modal<br/>nh·∫≠p l√Ω do t·ª´ ch·ªëi]
    I --> J{L√Ω do ƒë√£ nh·∫≠p?}
    
    J -->|Ch∆∞a| K[Hi·ªÉn th·ªã l·ªói:<br/>"Vui l√≤ng nh·∫≠p l√Ω do"]
    K --> I
    
    J -->|R·ªìi| L[C·∫≠p nh·∫≠t:<br/>status = "REJECTED"<br/>rejectionReason = l√Ω do]
    L --> M[Hi·ªÉn th·ªã th√¥ng b√°o:<br/>"ƒê√£ t·ª´ ch·ªëi t√†i kho·∫£n!"]
    M --> End
```

## Th√¥ng tin hi·ªÉn th·ªã

| Tr∆∞·ªùng | M√¥ t·∫£ |
|--------|-------|
| Email | Email ƒëƒÉng k√Ω |
| T√™n | T√™n ng∆∞·ªùi d√πng |
| Vai tr√≤ | Reader / Librarian / Admin |
| Ng√†y tham gia | Ng√†y ƒëƒÉng k√Ω t√†i kho·∫£n |
| Tr·∫°ng th√°i | Ch·ªù x√°c nh·∫≠n / K√≠ch ho·∫°t / V√¥ hi·ªáu h√≥a |
| H√†nh ƒë·ªông | X√°c nh·∫≠n / K√≠ch ho·∫°t / V√¥ hi·ªáu h√≥a / G√°n vai tr√≤ |

## C√°c tr·∫°ng th√°i t√†i kho·∫£n

| Tr·∫°ng th√°i | M√£ | M√¥ t·∫£ | M√†u |
|------------|-----|-------|-----|
| Ch·ªù x√°c nh·∫≠n | PENDING | M·ªõi ƒëƒÉng k√Ω, ch·ªù Admin x√°c nh·∫≠n | üü° V√†ng |
| ƒê√£ k√≠ch ho·∫°t | ACTIVE | T√†i kho·∫£n ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng | üü¢ Xanh |
| V√¥ hi·ªáu h√≥a | DISABLED | B·ªã v√¥ hi·ªáu h√≥a, kh√¥ng th·ªÉ ƒëƒÉng nh·∫≠p | üî¥ ƒê·ªè |
| B·ªã t·ª´ ch·ªëi | REJECTED | ƒêƒÉng k√Ω b·ªã t·ª´ ch·ªëi | ‚ö´ X√°m |

## C√°c vai tr√≤

| Vai tr√≤ | M√¥ t·∫£ | Quy·ªÅn h·∫°n |
|---------|-------|-----------|
| Reader | ƒê·ªôc gi·∫£ | M∆∞·ª£n s√°ch, xem l·ªãch s·ª≠, thanh to√°n ph·∫°t |
| Librarian | Nh√¢n vi√™n | Qu·∫£n l√Ω s√°ch, x√°c nh·∫≠n m∆∞·ª£n/tr·∫£, qu·∫£n l√Ω ph·∫°t |
| Admin | Qu·∫£n l√Ω vi√™n | To√†n quy·ªÅn + Qu·∫£n l√Ω t√†i kho·∫£n + B√°o c√°o |

## Quy t·∫Øc nghi·ªáp v·ª•

1. **Admin cu·ªëi c√πng:** Kh√¥ng th·ªÉ v√¥ hi·ªáu h√≥a Admin cu·ªëi c√πng trong h·ªá th·ªëng
2. **T√†i kho·∫£n m·ªõi:** T√†i kho·∫£n m·ªõi ƒëƒÉng k√Ω c·∫ßn ƒë∆∞·ª£c Admin x√°c nh·∫≠n
3. **V√¥ hi·ªáu h√≥a:** T√†i kho·∫£n b·ªã v√¥ hi·ªáu h√≥a kh√¥ng th·ªÉ ƒëƒÉng nh·∫≠p
4. **T·ª´ ch·ªëi ƒëƒÉng k√Ω:** C·∫ßn nh·∫≠p l√Ω do khi t·ª´ ch·ªëi t√†i kho·∫£n m·ªõi

## Ghi ch√∫
- T√¨m ki·∫øm h·ªó tr·ª£ t√¨m theo c·∫£ email v√† t√™n
- C√≥ th·ªÉ k·∫øt h·ª£p t√¨m ki·∫øm + l·ªçc theo vai tr√≤
- Khi v√¥ hi·ªáu h√≥a t√†i kho·∫£n, c√°c session hi·ªán t·∫°i c·ªßa user ƒë√≥ s·∫Ω b·ªã h·ªßy
- Admin c√≥ th·ªÉ k√≠ch ho·∫°t l·∫°i t√†i kho·∫£n ƒë√£ b·ªã v√¥ hi·ªáu h√≥a

